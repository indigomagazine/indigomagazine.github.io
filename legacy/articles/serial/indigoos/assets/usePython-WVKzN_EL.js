import{r as n}from"./index-BWmU0So1.js";function m(r){return new Worker("/assets/python-worker-DW9GXRCj.js",{type:"module",name:r==null?void 0:r.name})}function d(){const r=n.useRef(null),t=n.useRef(new Uint8Array(new SharedArrayBuffer(1)));n.useEffect(()=>(r.current=new m,r.current.postMessage({cmd:"setInterruptBuffer",interruptBuffer:t.current}),()=>{var e;console.log("Terminating worker"),(e=r.current)==null||e.terminate()}),[]);function c(){t.current[0]=2}function o(e,a){var u,s;c(),t.current[0]=0,(u=r.current)==null||u.postMessage({code:e}),(s=r.current)==null||s.addEventListener("message",f=>{const{stdout:i}=f.data;a(i)})}return{runCode:o}}export{d as u};
